<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>io.predictionbuttons PI</title>
    <link rel="stylesheet" href="sdpi.css">
    <script src="common.js"></script>
    <script src="utils.js"></script>
    <script src="prediction_pi.js"></script>

    <style type="text/css">
        .start {
            display: none;
        }

        .outcome {
            display: none;
        }
    </style>
</head>

<body>
    <div class="sdpi-wrapper">
        <div class="sdpi-heading start" id="get_started_heading">Get Started</div>
        <div class="sdpi-item start">
            <details class="sdpi-item-value">
                <summary id="twitch_auth_heading">IMPORTANT: Twitch Authentication</summary>
                <p id="twitch_auth_para_1">We require you to auth to allow creation and management of predictions.</p>
                <p id="twitch_auth_para_2">This token may expire, we will be able to attempt to refresh automatically
                    but you may still need to reauthorize if that fails.</p>
                <div class="sdpi-item">
                    <div class="sdpi-item-label" id="check_auth_heading">Authorise</div>
                    <button onclick="loadAuthWindow()" class="sdpi-item-value"
                        id="get_access_token_button">Get Started</button>
                </div>
                <div class="sdpi-item">
                    <div class="sdpi-item-label"  id="check_auth_heading">Issues?</div>
                    <button onclick="checkAuth()" class="sdpi-item-value" id="check_auth_button">Check Auth</button>
                </div>
                <div class="sdpi-item">
                    <div class="sdpi-item-label">Manual Refresh</div>
                    <button onclick="refreshTokenPI()" class="sdpi-item-value" id="toggle_auth_button">Refresh Token</button>
                </div>
            </details>
        </div>
        <div class="sdpi-heading start" id="prediction_settings_title">Prediction Settings</div>
        <div class="sdpi-item start">
            <div class="sdpi-item-label" id="prediction_title_label">Prediction Title</div>
            <input class="sdpi-item-value" id="prediction_title" type="text" value="Will I RIP?"
                onchange="sendValueToPlugin('predictionUpdate', undefined)">
        </div>
        <div class="sdpi-item start">
            <div class="sdpi-item-label" id="prediction_outcome_1_title">Prediction Outcome 1</div>
            <input class="sdpi-item-value" id="prediction_outcome_1" type="text" value="YES"
                onchange="sendValueToPlugin('predictionUpdate',1)">
        </div>
        <div class="sdpi-item start">
            <div class="sdpi-item-label" id="prediction_outcome_2_title">Prediction Outcome 2</div>
            <input class="sdpi-item-value" id="prediction_outcome_2" type="text" value="NO"
                onchange="sendValueToPlugin('predictionUpdate',2)">
        </div>
        <div id="moreOutcomesDiv"></div>
        <div class="sdpi-item start">
            <div class="sdpi-item-label" id="extra_outcomes_title">Extra Outcomes</div>
            <button class="sdpi-item-value" id="addOutcomesButton" onclick="addOutcome()">Add more outcomes (max
                10)</button>
        </div>
        <div class="sdpi-item start">
            <div class="sdpi-item-label" id="prediction_duration_title">Prediction Duration (Seconds)</div>
            <input class="sdpi-item-value" id="prediction_duration" type="number" value="120"
                onchange="sendValueToPlugin('predictionUpdate','')">
        </div>

        <div class="sdpi-heading start" id="manual_layout">Manual Layout</div>
        <div type="checkbox" class="sdpi-item start" id="single-check">
            <div class="sdpi-item-label" id="swap_to_subview_title">Swap to Subview</div>
            <div class="sdpi-item-value">
                <div class="sdpi-item-child">
                    <input id="profileSwap" onclick="sendValueToPlugin('predictionUpdate','')" checked type="checkbox"
                        value="on">
                    <label for="profileSwap" class="sdpi-item-label" id="swap_to_subview_checkbox"><span></span> Swap to
                        Subview</label>
                </div>
            </div>
        </div>

        <div class="sdpi-item outcome" id="outcome_select_div">
            <div class="sdpi-item-label" id="confirm_outcome_label">Confirm Outcome</div>
            <select class="sdpi-item-value select" id="outcome_select" onchange="sendValueToPlugin('outcomeUpdate','')">
                <option value="0">1</option>
                <option value="1">2</option>
                <option value="2">3</option>
                <option value="3">4</option>
                <option value="4">5</option>
                <option value="5">6</option>
                <option value="6">7</option>
                <option value="7">8</option>
                <option value="8">9</option>
                <option value="9">10</option>
            </select>
        </div>
    </div>
</body>

</html>